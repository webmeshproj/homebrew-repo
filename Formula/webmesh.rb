# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Webmesh < Formula
  desc "WebMesh is a service mesh for the web"
  homepage "https://webmeshproj.github.io"
  version "0.0.21"
  license "Apache 2.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/webmeshproj/webmesh/releases/download/v0.0.21/webmesh_Darwin_x86_64.tar.gz"
      sha256 "9b05a5c1e5773338f96575fd5a514ef346b23283bf3f8635c3b8defa78e42a90"

      def install
        bin.install "webmesh-node"
        bin.install "wmctl"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/webmeshproj/webmesh/releases/download/v0.0.21/webmesh_Darwin_arm64.tar.gz"
      sha256 "a44423eda1cdedb280863997c8923e315fe75ec498888d2e09b1f04602ebee67"

      def install
        bin.install "webmesh-node"
        bin.install "wmctl"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/webmeshproj/webmesh/releases/download/v0.0.21/webmesh_Linux_arm64.tar.gz"
      sha256 "8d256b065a43ed7f1a90c19345628d1ac44513b916a174aa69a517a16fa6c843"

      def install
        bin.install "webmesh-node"
        bin.install "wmctl"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/webmeshproj/webmesh/releases/download/v0.0.21/webmesh_Linux_x86_64.tar.gz"
      sha256 "c199368eb709c4b12f53448c6be96f5e76852e82694091452255c744d9609216"

      def install
        bin.install "webmesh-node"
        bin.install "wmctl"
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/webmeshproj/webmesh/releases/download/v0.0.21/webmesh_Linux_armv6.tar.gz"
      sha256 "083a748e71f61f2d82ef87a3e26df429e23f72f8006c73a4dc39d66e7fc4466d"

      def install
        bin.install "webmesh-node"
        bin.install "wmctl"
      end
    end
  end

  test do
    system "#{bin}/webmesh-node --version"
    system "#{bin}/wmctl --version"
  end
end
